name: tolerex

topology:
  nodes:
    leader:
      kind: linux
      image: tolerex
      exec: ["./leader"]
      env:
        LEADER_GRPC_PORT: "5555"
        LEADER_METRICS_PORT: "9090"

    member1:
      kind: linux
      image: tolerex
      exec: ["./member -port=5556 -metrics=9092"]
      env: {LEADER_ADDR: leader:5555}

    member2:
      kind: linux
      image: tolerex
      exec: ["./member -port=5557 -metrics=9093"]
      env: {LEADER_ADDR: leader:5555}

    member3:
      kind: linux
      image: tolerex
      exec: ["./member -port=5558 -metrics=9094"]
      env: {LEADER_ADDR: leader:5555}

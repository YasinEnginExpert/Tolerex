-----------------------------------------------------------
TOLEREX: SISTEM CALISMA PRENSIBI VE TEKNIK REHBER
-----------------------------------------------------------

Bu belge, Tolerex sisteminin mimarisini, istemci (client) parametrelerini 
ve veri isleme modlarini (SET, GET, BULK, FILE) aciklar.

1. SISTEM MIMARISI (Architecture)
----------------------------------
- LEADER (Lider): Veri trafigini yoneten beyin. Istemciden gelen ham TCP 
  komutlarini alir ve bunlari gRPC/mTLS uzerinden Member'lara dagitir.
- MEMBER (Uye): Veriyi fiziksel olarak diske yazan amele dugumler. 
  Sadece Lider ile konusurlar.
- TOLERANS: Lider, her veriyi "Tolerance" degeri kadar farkli Member'a 
  kopyalar. (Ornegin Tolerans=4 ise veri 4 farklı noktada yedeklenir).

2. ISTEMCI PARAMETRELERI (Client Flags)
---------------------------------------
Istemci baslatilirken kullanilan temel bayraklar:
- -addr: Lider/Liderlerin adres listesi (Or: "localhost:6666").
- -stress: Stress testinin kac dakika surecegini belirler.
- -flush: Arabellek bosaltma sikligi. (1=Guvenli/Yavas, 1000=Turbo/Hizli).
- -measure: RTT (Gecikme) olcumunu aktiflestirir.
- -csv: Sonuclari detayli analiz icin .csv dosyasina yazar.
- -id: Istemciye benzersiz bir isim verir (Or: Client-1).

3. VERI ISLEME MODLARI (Operations)
-----------------------------------
- SET <id> <msg>: 
  Belirli bir ID ile mesaj kaydeder. Lider bu mesaji alir ve belirlenen 
  sayidaki (Tolerans) uygun Member'a gRPC ile gonderir.

- GET <id>: 
  ID'si verilen mesaji geri cagirir. Lider, bu ID'nin hangi Member'larda 
  oldugunu bilir ve en uygun olanindan veriyi cekip istemciye doner.

- BULK MODU (Toplu Islem):
  Format: <adet> SET <mesaj> veya <adet> FILE
  Ornegin "100 SET Deneme" komutu, ardı ardına 100 tane kayit islemi 
  baslatir. -flush degeri 100 ise, bu 100 islem tek bir paket gibi 
  hizlica islenir.

- FILE MODU (Dosya Islemi):
  Sistemin gercek dunya performansini olcmek icin kullanilir. 
  * Nasl Calisir?: Client, "client/test" dizini altindaki gercek 
    dosyalari (txt, log vb.) tarar.
  * Secim: Bu dosyalardan rastgele birini secer.
  * Payload: Dosyanin tum icerigini okur ve tek bir SET islemiyle 
    sisteme gonderir. Bu, buyuk boyutlu verilerin sistemde nasil 
    tasindigini test etmemizi saglar.

4. STRESS TESTI VE TURBO MANTIGI
--------------------------------
Stress testi (-stress > 0) aktif edildiginde istemci "Kendi Kendine" 
yuk yuklemeye baslar.
- Rastgelelik: Sistem rastgele SET, GET ve FILE islemleri uretir.
- Zero-Delay: Bir islem bittigi mikrosaniyede yenisi baslar. 
  Hicbir "sleep" (bekleme) suresi yoktur.
- Olcum Baglantisi: Istemci, veri gonderdigi ana kanal haricinde, 
  sadece "RTT Olcumu" yapmak icin paralel bir TCP kanali daha acar. 
  Bu sayede olcum islemi veri trafigini yavaslatmaz.

-----------------------------------------------------------
DOKUMAN SONU
-----------------------------------------------------------
